# 一个学习图数据库neo4j和graphrag流程的项目

# 文件树
RAG_obsidian/
├── config/              # 配置中心
│   ├── config.yaml      # 配置文件
│   └── settings.py      # 提取配置文件
├── core/                # 核心逻辑
│   ├── extractor.py     # LLM 交互与三元组提取
│   └── visualizer.py    # 图谱构建与绘图
├── utils/               # 通用工具包
│   ├── __init__.py
│   └── file_ops.py      # 文件读取相关函数
├── data/                # 数据目录
├── prompt/              # prompt目录
├── logs/                # 日志目录
├── storage/             # 数据存储预留目录
├── main.py              # 主入口
└── .env                 # 环境变量

# graphrag流程
图的构建：要存储3层维度的信息
1. 逻辑结构层，将原始文本送给大模型，让它提炼出其中的关系，实体
2. 原始文本层，将原始文本作为特殊的节点chunks
3. 向量索引层，将原始文本送给embedding模型，得到高维向量，存放在chunks的节点属性中

实际回答经历的步骤：
1. 用户询问一个问题，送入embedding模型，得到一个高维向量
2. 在图数据库中，对问题向量和图中存在的向量进行计算，找到和问题向量最匹配的几个向量，从而找到关键节点
3. 顺藤摸瓜，找到和这个节点有关的其他节点。
4. 将找到的关系组成句子，和原始文本一块打包送给大模型，让大模型根据这些信息回答问题。

